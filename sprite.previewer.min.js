!function(t){var i=t.preview={},e=i.View=function(t,i){this.model=t,this.preview=i,this.initialize(),this.model.on("paint",this.paintPixel.bind(this)),this.update()};e.prototype.initialize=function(){this.preview.width=this.model.columns,this.preview.height=this.model.rows,this.context=this.preview.getContext("2d"),this.imageData=this.context.createImageData(this.preview.width,this.preview.height)},e.prototype.update=function(){this.context.putImageData(this.imageData,0,0)},e.prototype.paintPixel=function(t,i){var e=4*(this.model.columns*i+t);[0,0,0,255].forEach(function(t,i){this.data[e+i]=t}.bind(this.imageData)),this.update()}}(window.sprite=window.sprite||{});