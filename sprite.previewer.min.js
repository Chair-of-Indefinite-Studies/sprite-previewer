!function(i,t){var e=i.preview={},h=e.View=function(i,t){this.model=i,this.preview=t,this.initialize(),this.model.on("paint",this.paintPixel.bind(this)),this.update()};h.prototype.initialize=function(){this.preview.width=this.model.columns,this.preview.height=this.model.rows,this.context=this.preview.getContext("2d"),this.imageData=this.context.createImageData(this.preview.width,this.preview.height),this.model.forEachPixel(this.paintPixel.bind(this))},h.prototype.update=function(){this.context.putImageData(this.imageData,0,0)},h.prototype.paintPixel=function(i,e,h){var a=4*(this.model.columns*e+i);t(h).forEach(function(i,t){this.data[a+t]=i}.bind(this.imageData)),this.update()}}(window.sprite=window.sprite||{},color.array);