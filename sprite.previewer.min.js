!function(i){var t=i.preview={},e=t.View=function(i,t){this.model=i,this.preview=t,this.initialize(),this.model.on("paint",this.paintPixel.bind(this)),this.update()};e.prototype.initialize=function(){this.preview.width=this.model.columns,this.preview.height=this.model.rows,this.context=this.preview.getContext("2d"),this.imageData=this.context.createImageData(this.preview.width,this.preview.height),this.model.forEachPixel(this.paintPixel.bind(this))},e.prototype.update=function(){this.context.putImageData(this.imageData,0,0)},e.prototype.paintPixel=function(i,t){var e=4*(this.model.columns*t+i);[0,0,0,255].forEach(function(i,t){this.data[e+t]=i}.bind(this.imageData)),this.update()}}(window.sprite=window.sprite||{});